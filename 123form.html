<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Multi Step Form</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Bootstrap CDN -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- jQuery CDN -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<style>
    .step { display: none; }
    .step.active { display: block; }
    .steps-indicator .badge { cursor: pointer; }
</style>

</head>
<body class="bg-light">

<div class="container mt-5">

    <h3 class="text-center fw-bold mb-4">Multi-Step Form</h3>

    <!-- Progress Indicator -->
    <div class="steps-indicator text-center mb-3">
        <span class="badge bg-primary step-indicator" data-step="0">Step 1</span>
        <span class="badge bg-secondary step-indicator" data-step="1">Step 2</span>
        <span class="badge bg-secondary step-indicator" data-step="2">Step 3</span>
    </div>

    <form id="multiStepForm" class="p-4 bg-white shadow rounded">

        <!-- Step 1 -->
        <div class="step active" data-step="0">
            <div class="mb-3">
                <label class="form-label">Full Name</label>
                <input type="text" class="form-control" name="fullname">
            </div>
            <div class="mb-3">
                <label class="form-label">Email Address</label>
                <input type="email" class="form-control" name="email">
            </div>
            <button type="button" class="btn btn-primary nextBtn float-end">Next</button>
        </div>

        <!-- Step 2 -->
        <div class="step" data-step="1">
            <div class="mb-3">
                <label class="form-label">Mobile Number</label>
                <input type="text" class="form-control" name="mobile">
            </div>
            <button type="button" class="btn btn-secondary prevBtn">Previous</button>
            <button type="button" class="btn btn-primary nextBtn float-end">Next</button>
        </div>

        <!-- Step 3 -->
        <div class="step" data-step="2">
            <div class="mb-3">
                <label class="form-label">Message</label>
                <textarea class="form-control" name="message"></textarea>
            </div>
            <button type="button" class="btn btn-secondary prevBtn">Previous</button>
            <button type="submit" class="btn btn-success float-end">Submit</button>
        </div>

    </form>

</div>

<script>
let currentStep = 0;

// Show Step Function
function showStep(step) {
    $(".step").removeClass("active");
    $(`.step[data-step="${step}"]`).addClass("active");

    $(".step-indicator").removeClass("bg-primary").addClass("bg-secondary");
    $(`.step-indicator[data-step="${step}"]`).removeClass("bg-secondary").addClass("bg-primary");
}

// Validation before moving next
function validateStep(step) {
    let inputs = $(`.step[data-step="${step}"]`).find("input, textarea");
    let valid = true;

    inputs.each(function () {
        if ($(this).val().trim() === "") {
            $(this).addClass("is-invalid");
            valid = false;
        } else {
            $(this).removeClass("is-invalid");
        }
    });

    return valid;
}

// Next Button
$(".nextBtn").click(function () {
    if (validateStep(currentStep)) {
        currentStep++;
        showStep(currentStep);
    }
});

// Previous Button
$(".prevBtn").click(function () {
    currentStep--;
    showStep(currentStep);
});

// Submit Form
$("#multiStepForm").submit(function (e) {
    if (!validateStep(currentStep)) {
        e.preventDefault();
        return;
    }
    alert("Form Submitted Successfully!");
});
</script>

</body>
</html>
